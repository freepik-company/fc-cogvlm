build:
  run:
    - mkdir /data
    - curl -L https://huggingface.co/THUDM/cogvlm-chat-hf/resolve/main/model-00001-of-00008.safetensors?download=true -o /data/model-00001-of-00008.safetensors
    - curl -L https://huggingface.co/THUDM/cogvlm-chat-hf/resolve/main/model-00002-of-00008.safetensors?download=true -o /data/model-00002-of-00008.safetensors
    - curl -L https://huggingface.co/THUDM/cogvlm-chat-hf/resolve/main/model-00003-of-00008.safetensors?download=true -o /data/model-00003-of-00008.safetensors
    - curl -L https://huggingface.co/THUDM/cogvlm-chat-hf/resolve/main/model-00004-of-00008.safetensors?download=true -o /data/model-00004-of-00008.safetensors
    - curl -L https://huggingface.co/THUDM/cogvlm-chat-hf/resolve/main/model-00005-of-00008.safetensors?download=true -o /data/model-00005-of-00008.safetensors
    - curl -L https://huggingface.co/THUDM/cogvlm-chat-hf/resolve/main/model-00006-of-00008.safetensors?download=true -o /data/model-00006-of-00008.safetensors
    - curl -L https://huggingface.co/THUDM/cogvlm-chat-hf/resolve/main/model-00007-of-00008.safetensors?download=true -o /data/model-00007-of-00008.safetensors
    - curl -L https://huggingface.co/THUDM/cogvlm-chat-hf/resolve/main/model-00008-of-00008.safetensors?download=true -o /data/model-00008-of-00008.safetensors
    - curl -L https://huggingface.co/THUDM/cogvlm-chat-hf/resolve/main/config.json?download=true -o /data/config.json
    - curl -L https://huggingface.co/THUDM/cogvlm-chat-hf/resolve/main/configuration_cogvlm.py?download=true -o /data/configuration_cogvlm.py
    - curl -L https://huggingface.co/THUDM/cogvlm-chat-hf/resolve/main/modeling_cogvlm.py?download=true -o /data/modeling_cogvlm.py
    - curl -L https://huggingface.co/THUDM/cogvlm-chat-hf/resolve/main/visual.py?download=true -o /data/visual.py
    - curl -L https://huggingface.co/THUDM/cogvlm-chat-hf/resolve/main/model.safetensors.index.json?download=true -o /data/model.safetensors.index.json
    - curl -L https://huggingface.co/THUDM/cogvlm-chat-hf/resolve/main/generation_config.json?download=true -o /data/generation_config.json
  gpu: true
  python_version: "3.11"
  python_packages:
    - SwissArmyTransformer>=0.4.8
    - transformers>=4.33.1
    - xformers>=0.0.22
    - torch>1.10.0
    - torchvision
    - spacy>=3.6.0
    - pillow>=10.0.1
    - deepspeed>=0.11.0
    - seaborn
    - loguru~=0.7.2
    - accelerate
predict: "predict.py:Predictor"
